<!DOCTYPE html>
<html>
	{% import 'fragment/macros.html' as macro with context %}
	<head>
		{{ macro.head() | ind(2) }}
		{% if not group %}
		<title>Nextmods</title>
		{% else %}
		<title>Nextmods - {{ group.name }}</title>
		{% endif %}
		{{ macro.style(('_static/common.css', '_static/index.css')) | ind(2) }}
	</head>
	<body>
		{{ macro.header(groups) | ind(2) }}
		{% if group %}
		<h2>{{ group.spec.name_singular }}: {{ group_entry.name }}</h2>
		{% endif %}
		<ul class="sort-by">
			{% for sort_link in sort_links %}
			<li>
				<a href="{{ sort_link.asc_url | makepath }}">
					<span class="name">{{ sort_link.name }}</span><span class="icon">↧</span>
				</a>
				<a href="{{ sort_link.dsc_url | makepath }}">
					<span class="icon">↥</span>
				</a>
			</li>
			{% endfor %}
		</ul>
		<ul class="mod-list">
		{% for mod in mods %}
			<li class="mod-tile">
				<a href="{{ mod.link | makepath }}">
					{{ macro.picture(mod.picture_preview) | ind(5) }}
				</a>
				<p class="name">{{ mod.info.name }}</p>
				<p class="category">{{ mod.info.category }}</p>
				<p class="author"><span>Author:</span>{{ mod.info.creators | join(", ", attribute='name') }}</p>
				<p class="update_date"><span>Update date:</span>{{ mod.info.update_date }}</p>
				<p class="release_date"><span>Release date:</span>{{ mod.info.release_date }}</p>
				<p class="description">{{ mod.info.description }}</p>
				<div class="footer">
					<span>Size: {{ mod.data_files_size | human_bytes }}</span>
					<span>Files: {{ mod.data_files | count }}</span>
					<span>Stars: {{ mod.star_count }}</span>
				</div>
			</li>
		{% endfor %}
		</ul>
		{{ macro.footer() | ind(2) }}
	</body>
</html>
